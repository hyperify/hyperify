{"version":3,"file":"hyperify.esm.min.js","sources":["../../ts/src/common/constant.ts","../../ts/src/hyperify.ts","../../ts/src/alert.ts","../../ts/src/badge.ts","../../ts/src/button.ts"],"sourcesContent":["export const px = 'px';","export class Component {\r\n    element: HTMLElement;\r\n\r\n    constructor(arg: string | HTMLElement) {\r\n        if (typeof arg === 'string') {\r\n            this.element = document.querySelector(arg);\r\n        } else {\r\n            this.element = arg as HTMLElement;\r\n        }\r\n    }\r\n}","import { px } from './common/constant';\r\nimport { Component } from './hyperify';\r\n\r\nexport default class Alert extends Component {\r\n    static readonly SELECTOR = '.hyper-alert';\r\n    static readonly CLOSE_BTN_SELECTOR = '.hyper-alert-close-btn';\r\n\r\n    static readonly EVENT_WILLDISSMISS = new CustomEvent('hyper.alert.will.dismiss');\r\n    static readonly EVENT_DIDDISMISS = new CustomEvent('hyper.alert.did.dismiss');\r\n    static readonly EVENT_WILLPRESENT = new CustomEvent('hyper.alert.will.present');\r\n    static readonly EVENT_DIDPRESENT = new CustomEvent('hyper.alert.did.present');\r\n\r\n    constructor(arg: string | HTMLElement) {\r\n        super(arg);\r\n    }\r\n\r\n    dismiss() {\r\n        return dismiss(this.element);\r\n    }\r\n\r\n    present() {\r\n        return present(this.element);\r\n    }\r\n}\r\n\r\nconst rate = 10;\r\n\r\nconst dismiss = (alert: HTMLElement) => {\r\n    alert.dispatchEvent(Alert.EVENT_WILLDISSMISS);\r\n\r\n    const style = window.getComputedStyle(alert, null);\r\n\r\n    let height = parseInt(style['height']);\r\n    let marginTop = parseInt(style['marginTop']);\r\n    let marginBottom = parseInt(style['marginBottom']);\r\n    let paddingTop = parseInt(style['paddingTop']);\r\n    let paddingBottom = parseInt(style['paddingBottom']);\r\n    let opacity = parseInt(style['opacity']);\r\n\r\n    const heightDec = height / rate;\r\n    const marginTopDec = marginTop / rate;\r\n    const marginBottomDec = marginBottom / rate;\r\n    const paddingTopDec = paddingTop / rate;\r\n    const paddingBottomDec = paddingBottom / rate;\r\n    const opacityDec = opacity / rate;\r\n\r\n    const render = () => {\r\n        if (heightDec) {\r\n            height -= heightDec;\r\n            alert.style.height = height + px;\r\n        }\r\n\r\n        if (marginTopDec) {\r\n            marginTop -= marginTopDec;\r\n            alert.style.marginTop = marginTop + px;\r\n        }\r\n\r\n        if (marginBottomDec) {\r\n            marginBottom -= marginBottomDec;\r\n            alert.style.marginBottom = marginBottom + px;\r\n        }\r\n\r\n        if (paddingTopDec) {\r\n            paddingTop -= paddingTopDec;\r\n            alert.style.paddingTop = paddingTop + px;\r\n        }\r\n\r\n        if (paddingBottomDec) {\r\n            paddingBottom -= paddingBottomDec;\r\n            alert.style.paddingBottom = paddingBottom + px;\r\n        }\r\n\r\n        if (opacityDec) {\r\n            opacity -= opacityDec;\r\n            alert.style.opacity = opacity + '';\r\n        }\r\n\r\n        if (height > 0) {\r\n            return window.requestAnimationFrame(render);\r\n        }\r\n\r\n        alert.style.display = 'none';\r\n        alert.style.height = null;\r\n        alert.style.marginTop = null;\r\n        alert.style.marginBottom = null;\r\n        alert.style.paddingTop = null;\r\n        alert.style.paddingBottom = null;\r\n        alert.style.opacity = null;\r\n\r\n        alert.dispatchEvent(Alert.EVENT_DIDDISMISS);\r\n    }\r\n\r\n    window.requestAnimationFrame(render);\r\n}\r\n\r\nconst present = (alert: HTMLElement) => {\r\n    alert.dispatchEvent(Alert.EVENT_WILLPRESENT);\r\n\r\n    alert.style.display = null;\r\n    const style = window.getComputedStyle(alert, null);\r\n\r\n    const _height = parseInt(style['height']);\r\n    let height = parseInt(style['height']);\r\n    let marginTop = parseInt(style['marginTop']);\r\n    let marginBottom = parseInt(style['marginBottom']);\r\n    let paddingTop = parseInt(style['paddingTop']);\r\n    let paddingBottom = parseInt(style['paddingBottom']);\r\n    let opacity = parseInt(style['opacity']);\r\n\r\n    const zero = 0 + '';\r\n    alert.style.height = zero;\r\n    alert.style.marginTop = zero;\r\n    alert.style.marginBottom = zero;\r\n    alert.style.paddingTop = zero;\r\n    alert.style.paddingBottom = zero;\r\n    alert.style.opacity = zero;\r\n\r\n    const heightInc = height / rate;\r\n    const marginTopInc = marginTop / rate;\r\n    const marginBottomInc = marginBottom / rate;\r\n    const paddingTopInc = paddingTop / rate;\r\n    const paddingBottomInc = paddingBottom / rate;\r\n    const opacityInc = opacity / rate;\r\n\r\n    height = 0;\r\n    marginTop = 0;\r\n    marginBottom = 0;\r\n    paddingTop = 0;\r\n    paddingBottom = 0;\r\n    opacity = 0;\r\n\r\n    const render = () => {\r\n        if (heightInc) {\r\n            height += heightInc;\r\n            alert.style.height = height + px;\r\n        }\r\n\r\n        if (marginTopInc) {\r\n            marginTop += marginTopInc;\r\n            alert.style.marginTop = marginTop + px;\r\n        }\r\n\r\n        if (marginBottomInc) {\r\n            marginBottom += marginBottomInc;\r\n            alert.style.marginBottom = marginBottom + px;\r\n        }\r\n\r\n        if (paddingTopInc) {\r\n            paddingTop += paddingTopInc;\r\n            alert.style.paddingTop = paddingTop + px;\r\n        }\r\n\r\n        if (paddingBottomInc) {\r\n            paddingBottom += paddingBottomInc;\r\n            alert.style.paddingBottom = paddingBottom + px;\r\n        }\r\n\r\n        if (opacityInc) {\r\n            opacity += opacityInc;\r\n            alert.style.opacity = opacity + '';\r\n        }\r\n\r\n        if (height < _height) {\r\n            return window.requestAnimationFrame(render);\r\n        }\r\n\r\n        alert.style.height = null;\r\n        alert.style.marginTop = null;\r\n        alert.style.marginBottom = null;\r\n        alert.style.paddingTop = null;\r\n        alert.style.paddingBottom = null;\r\n        alert.style.opacity = null;\r\n\r\n        alert.dispatchEvent(Alert.EVENT_DIDPRESENT);\r\n    }\r\n\r\n    window.requestAnimationFrame(render);\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n    const list = document.querySelectorAll(Alert.CLOSE_BTN_SELECTOR);\r\n\r\n    for (const btn of list) {\r\n        btn.addEventListener('click', () => {\r\n            dismiss(btn.parentElement);\r\n        });\r\n    }\r\n});","export default class Badge {\r\n    static readonly SELECTOR = '.hyper-badge'\r\n}\r\n\r\ninterface IBadge extends HTMLElement {\r\n    activeTimer: number;\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n    const list = document.querySelectorAll('a' + Badge.SELECTOR) as NodeListOf<IBadge>;\r\n\r\n    for (const badge of list) {\r\n        badge.addEventListener('click', () => {\r\n            badge.activeTimer && clearTimeout(badge.activeTimer);\r\n            badge.classList.add('active');\r\n\r\n            badge.activeTimer = window.setTimeout(() => {\r\n                badge.classList.remove('active');\r\n                badge.activeTimer = null;\r\n            }, 300);\r\n        });\r\n    }\r\n});","import { Component } from './hyperify';\r\n\r\nexport default class Button extends Component {\r\n    static readonly SELECTOR = '.hyper-btn';\r\n\r\n    constructor(arg: string | HTMLElement) {\r\n        super(arg);\r\n    }\r\n\r\n    disable() {\r\n        this.element.classList.add('disabled');\r\n    }\r\n\r\n    enable() {\r\n        this.element.classList.remove('disabled');\r\n        this.element.removeAttribute('disabled');\r\n    }\r\n\r\n    isDisable() {\r\n        return this.element.classList.contains('disabled');\r\n    }\r\n\r\n    loading() {\r\n        this.element.classList.add('loading');\r\n    }\r\n\r\n    finish() {\r\n        this.element.classList.remove('loading');\r\n    }\r\n\r\n    isLoading() {\r\n        return this.element.classList.contains('loading');\r\n    }\r\n}\r\n\r\ninterface IButton extends HTMLElement {\r\n    activeTimer: number;\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n    const list = document.querySelectorAll(Button.SELECTOR) as NodeListOf<IButton>;\r\n\r\n    for (const btn of list) {\r\n        btn.addEventListener('click', () => {\r\n            if (btn.classList.contains('disabled') || btn.classList.contains('loading')) {\r\n                return;\r\n            }\r\n\r\n            btn.activeTimer && clearTimeout(btn.activeTimer);\r\n            btn.classList.add('active');\r\n\r\n            btn.activeTimer = window.setTimeout(() => {\r\n                btn.classList.remove('active');\r\n                btn.activeTimer = null;\r\n            }, 300);\r\n        });\r\n    }\r\n});"],"names":["px","Component","[object Object]","arg","this","element","document","querySelector","Alert","super","dismiss","present","CustomEvent","alert","dispatchEvent","EVENT_WILLDISSMISS","style","window","getComputedStyle","height","parseInt","marginTop","marginBottom","paddingTop","paddingBottom","opacity","heightDec","marginTopDec","marginBottomDec","paddingTopDec","paddingBottomDec","opacityDec","render","requestAnimationFrame","display","EVENT_DIDDISMISS","EVENT_WILLPRESENT","_height","zero","heightInc","marginTopInc","marginBottomInc","paddingTopInc","paddingBottomInc","opacityInc","EVENT_DIDPRESENT","addEventListener","list","querySelectorAll","CLOSE_BTN_SELECTOR","btn","parentElement","Badge","SELECTOR","badge","activeTimer","clearTimeout","classList","add","setTimeout","remove","Button","removeAttribute","contains"],"mappings":"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"}